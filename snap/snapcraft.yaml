name: typhoon
base: core24
adopt-info: typhoon
grade: stable
confinement: strict

parts:
  typhoon:
    plugin: meson
    source: https://github.com/archisman-panigrahi/typhoon.git
    source-branch: master
    source-depth: 1
    stage-packages:
      - python3-pyqt6
      - python3-pyqt6.qtwebengine
      - python3-dbus
      - python3-gi
      - gir1.2-xdp-1.0
      - python3-cairosvg
    meson-parameters:
      - --prefix=/snap/typhoon/current/usr
      - -Dbuildtype=release
    organize:
      snap/typhoon/current: .
    parse-info: [usr/share/metainfo/io.github.archisman_panigrahi.typhoon.metainfo.xml]

apps:
  typhoon:
    command: usr/bin/typhoon
    extensions: [gnome]
    desktop: usr/share/applications/io.github.archisman_panigrahi.typhoon.desktop
    plugs:
      - x11
      - unity7
      - network
      - network-status
